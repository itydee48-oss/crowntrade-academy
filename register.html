<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Crown Trade Academy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Premium Header -->
    <header class="premium-header">
        <nav class="premium-nav">
            <a href="index.html" class="logo">Crown Trade Academy</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html" style="color: var(--warm-beige);">Register</a></li>
            </ul>
        </nav>
    </header>

    <!-- Registration Hero -->
    <section class="premium-container" style="padding: 2rem 0;">
        <div class="premium-card" style="background: linear-gradient(135deg, var(--muted-rose), var(--warm-beige)); color: var(--dark-brown);">
            <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; text-align: center;">Join Crown Trade Academy</h1>
            <p style="font-size: 1.1rem; font-weight: 600; text-align: center;">Choose your program and start your trading journey</p>
        </div>
    </section>

    <!-- Registration Form -->
    <section class="premium-container">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            
            <!-- Left Column - Registration Form -->
            <div class="premium-card">
                <h2 style="margin-bottom: 1.5rem; color: var(--dark-brown);">üìù Your Information</h2>
                
                <form id="registrationForm">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="fullName" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="phone" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-control" id="confirmPassword" required>
                    </div>
                </form>
            </div>

            <!-- Right Column - Package Selection -->
            <div class="premium-card">
                <h2 style="margin-bottom: 1.5rem; color: var(--dark-brown);">üéØ Choose Your Program</h2>
                
                <!-- Mentorship Program -->
                <div style="border: 2px solid var(--warm-beige); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <h3 style="color: var(--dark-brown); margin-bottom: 0.5rem;">Mentorship Program</h3>
                            <p style="color: var(--muted-rose); margin: 0;">Elite 1-on-1 trading mentorship</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--dark-brown);">KES 50,000</div>
                            <div style="color: var(--muted-rose); font-size: 0.9rem;">One-time payment</div>
                        </div>
                    </div>
                    
                    <ul style="color: var(--muted-rose); margin-bottom: 1.5rem; padding-left: 1.5rem;">
                        <li>Personalized 1-on-1 training</li>
                        <li>Advanced trading strategies</li>
                        <li>Lifetime access to resources</li>
                        <li>Priority support</li>
                    </ul>
                    
                    <button class="btn-premium" onclick="selectPackage('mentorship-only')" style="width: 100%;">
                        Select Mentorship Program
                    </button>
                </div>

                <!-- Referral Program -->
                <div style="border: 2px solid var(--light-taupe); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <h3 style="color: var(--dark-brown); margin-bottom: 0.5rem;">Referral Program</h3>
                            <p style="color: var(--muted-rose); margin: 0;">Earn through referrals</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--dark-brown);">KES 500</div>
                            <div style="color: var(--muted-rose); font-size: 0.9rem;">Registration fee</div>
                        </div>
                    </div>
                    
                    <ul style="color: var(--muted-rose); margin-bottom: 1.5rem; padding-left: 1.5rem;">
                        <li>Earn KES 300 per referral</li>
                        <li>Withdraw earnings anytime</li>
                        <li>No trading knowledge required</li>
                        <li>Flexible working hours</li>
                    </ul>
                    
                    <button class="btn-secondary" onclick="selectPackage('referral-only')" style="width: 100%;">
                        Select Referral Program
                    </button>
                </div>

                <!-- Combined Program -->
                <div style="border: 2px solid var(--gold-accent); border-radius: 12px; padding: 1.5rem; background: linear-gradient(135deg, var(--off-white), var(--cream-white));">
                    <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <h3 style="color: var(--dark-brown); margin-bottom: 0.5rem;">Combined Program</h3>
                            <p style="color: var(--muted-rose); margin: 0;">Mentorship + Referral benefits</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--dark-brown);">KES 50,500</div>
                            <div style="color: var(--muted-rose); font-size: 0.9rem;">Best value</div>
                        </div>
                    </div>
                    
                    <ul style="color: var(--muted-rose); margin-bottom: 1.5rem; padding-left: 1.5rem;">
                        <li>All mentorship benefits</li>
                        <li>All referral program benefits</li>
                        <li>Priority access to new features</li>
                        <li>Dedicated account manager</li>
                    </ul>
                    
                    <button class="btn-premium" onclick="selectPackage('combined')" style="width: 100%; background: linear-gradient(135deg, var(--gold-accent), #E5C158);">
                        Select Combined Program
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Section -->
    <section class="premium-container">
        <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin: 2rem 0;">
            <div class="trust-badge">
                <div style="font-size: 1.2rem; margin-right: 0.5rem;">üîí</div>
                Secure Registration
            </div>
            <div class="trust-badge">
                <div style="font-size: 1.2rem; margin-right: 0.5rem;">üí≥</div>
                Flexible Payment Options
            </div>
            <div class="trust-badge">
                <div style="font-size: 1.2rem; margin-right: 0.5rem;">‚ö°</div>
                Instant Activation
            </div>
            <div class="trust-badge">
                <div style="font-size: 1.2rem; margin-right: 0.5rem;">üìû</div>
                24/7 Support
            </div>
        </div>
    </section>

    <!-- Premium Footer -->
    <footer class="premium-footer">
        <div class="footer-content">
            <div>
                <h3>Get Started</h3>
                <p>Begin your trading journey today</p>
                <p>Email: crowntradeacademy@gmail.com</p>
            </div>
            <div>
                <h3>Programs</h3>
                <p><a href="#mentorship" style="color: var(--warm-beige); text-decoration: none;">Mentorship Program</a></p>
                <p><a href="#referral" style="color: var(--warm-beige); text-decoration: none;">Referral Program</a></p>
                <p><a href="#combined" style="color: var(--warm-beige); text-decoration: none;">Combined Program</a></p>
            </div>
            <div>
                <h3>Support</h3>
                <p>Help Center</p>
                <p>Contact Us</p>
                <p>FAQ</p>
            </div>
        </div>
        <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--muted-rose);">
            <p>&copy; 2024 Crown Trade Academy. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Package selection handler
        function selectPackage(packageType) {
            // Validate form first
            if (!validateForm()) {
                alert('Please fill in all required fields and ensure passwords match.');
                return;
            }

            const packageData = {
                'mentorship-only': { name: 'Mentorship Program', amount: 50000 },
                'referral-only': { name: 'Referral Program', amount: 500 },
                'combined': { name: 'Combined Program', amount: 50500 }
            };

            const packageInfo = packageData[packageType];
            
            // Save user data temporarily
            const userData = {
                fullName: document.getElementById('fullName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                password: document.getElementById('password').value,
                package: packageType
            };

            localStorage.setItem('tempUserData', JSON.stringify(userData));
            localStorage.setItem('selectedPackage', packageType);
            localStorage.setItem('packageAmount', packageInfo.amount);
            localStorage.setItem('packageName', packageInfo.name);

            // Confirm and redirect to payment
            if (confirm(`Confirm Selection:\n\n${packageInfo.name}\nAmount: KES ${packageInfo.amount.toLocaleString()}\n\nProceed to payment?`)) {
                window.location.href = 'payment-verification.html';
            }
        }

        // Form validation
        function validateForm() {
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Check required fields
            if (!fullName || !email || !phone || !password || !confirmPassword) {
                return false;
            }

            // Check password match
            if (password !== confirmPassword) {
                alert('Passwords do not match.');
                return false;
            }

            // Check password length
            if (password.length < 6) {
                alert('Password must be at least 6 characters long.');
                return false;
            }

            // Check email format
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Please enter a valid email address.');
                return false;
            }

            return true;
        }

        // Check if returning from payment
        document.addEventListener('DOMContentLoaded', function() {
            const paymentVerified = localStorage.getItem('paymentVerified');
            const tempUserData = localStorage.getItem('tempUserData');

            if (paymentVerified === 'true' && tempUserData) {
                completeRegistration();
            }
        });

        // Complete registration after successful payment
        function completeRegistration() {
            const tempUserData = JSON.parse(localStorage.getItem('tempUserData'));
            const selectedPackage = localStorage.getItem('selectedPackage');

            // Create user object
            const user = {
                id: 'user_' + Date.now(),
                fullName: tempUserData.fullName,
                email: tempUserData.email,
                phone: tempUserData.phone,
                password: tempUserData.password,
                package: selectedPackage,
                registrationDate: new Date().toISOString(),
                paymentVerified: true,
                paymentTimestamp: localStorage.getItem('paymentTimestamp'),
                status: 'active',
                joinDate: new Date().toLocaleDateString()
            };

            // Save to users list
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));

            // Set login session
            localStorage.setItem('clientLoggedIn', 'true');
            localStorage.setItem('clientEmail', user.email);
            localStorage.setItem('clientPackage', user.package);
            localStorage.setItem('clientName', user.fullName);

            // Clean up temporary data
            localStorage.removeItem('tempUserData');
            localStorage.removeItem('selectedPackage');
            localStorage.removeItem('packageAmount');
            localStorage.removeItem('packageName');
            localStorage.removeItem('paymentVerified');
            localStorage.removeItem('paymentTimestamp');

            // Redirect to dashboard
            alert('üéâ Registration Complete!\n\nWelcome to Crown Trade Academy!');
            window.location.href = 'client-dashboard.html';
        }

        // Enter key support for form
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                // Find which input is focused and suggest package selection
                const focused = document.activeElement;
                if (focused.id === 'confirmPassword') {
                    // User finished form, suggest selecting a package
                    document.querySelector('.btn-premium').scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'center'
                    });
                }
            }
        });
    </script>
</body>
</html>
