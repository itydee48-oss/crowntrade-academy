<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Application Pending - Crown Trade Academy</title>
  <style>
    :root {
      --dark-brown: #3A2D28;
      --muted-rose: #A48374;
      --warm-beige: #CBAD8D;
      --light-taupe: #D1C7BD;
      --off-white: #EBE3DB;
      --cream-white: #F1EDE6;
      --gold-accent: #D4AF37;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--off-white) 0%, var(--cream-white) 100%);
      color: var(--dark-brown);
      line-height:1.6;
      min-height:100vh;
      display: flex;
      flex-direction: column;
    }
    .premium-header{
      background: linear-gradient(135deg, var(--dark-brown) 0%, #2A1F1A 100%);
      color: var(--cream-white);
      padding:1.2rem 0;
      box-shadow:0 4px 20px rgba(58,45,40,0.1);
      border-bottom:3px solid var(--gold-accent);
    }
    .premium-nav{ display:flex; justify-content:space-between; align-items:center; max-width:1200px; margin:0 auto; padding:0 2rem; }
    .logo{ font-size:2rem; font-weight:700; color:var(--warm-beige); text-decoration:none; }
    .premium-container{ max-width:600px; margin:0 auto; padding:0 20px; flex:1; display:flex; align-items:center; }
    .premium-card{
      background: linear-gradient(135deg, var(--cream-white) 0%, #FFFFFF 100%);
      border:1px solid var(--light-taupe);
      border-radius:20px;
      padding:3rem;
      margin:2rem 0;
      position:relative;
      overflow:hidden;
      box-shadow:0 15px 40px rgba(58,45,40,0.08);
      text-align:center;
    }
    .premium-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:4px;
      background: linear-gradient(90deg, var(--gold-accent), var(--warm-beige), var(--gold-accent)); }
    
    .spinner {
      border: 4px solid var(--light-taupe);
      border-top: 4px solid var(--gold-accent);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      margin: 2rem auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .status-badge {
      display: inline-block;
      padding: 0.5rem 1.5rem;
      border-radius: 20px;
      font-size: 1rem;
      font-weight: 600;
      background: #ffc107;
      color: var(--dark-brown);
      margin: 1rem 0;
    }
  </style>
</head>
<body>
  <header class="premium-header">
    <nav class="premium-nav">
      <a href="index.html" class="logo">Crown Trade Academy</a>
    </nav>
  </header>

  <section class="premium-container">
    <div class="premium-card">
      <div class="spinner"></div>
      <h1 style="color:var(--dark-brown); margin-bottom:1rem;">Application Under Review</h1>
      <div class="status-badge">PENDING APPROVAL</div>
      <p style="color:var(--muted-rose); margin-bottom:1.5rem;">
        Thank you for applying to Crown Trade Academy! Your application is currently being reviewed by our team.
      </p>
      <p style="color:var(--muted-rose); margin-bottom:2rem;">
        You will be automatically redirected to your dashboard once your application is approved. This usually takes 24-48 hours.
      </p>
      <div style="background:var(--off-white); padding:1.5rem; border-radius:12px; text-align:left;">
        <h4 style="color:var(--dark-brown); margin-bottom:1rem;">What happens next?</h4>
        <ul style="color:var(--muted-rose); padding-left:1.5rem;">
          <li>Our team reviews your application</li>
          <li>We verify your payment details</li>
          <li>You receive approval notification</li>
          <li>Access to your dashboard is granted</li>
        </ul>
      </div>
    </div>
  </section>

  <script>
    // Check application status every 5 seconds
    function checkApplicationStatus() {
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const currentUserEmail = localStorage.getItem('current_user_email');
      
      if (currentUserEmail) {
        const user = users.find(u => u.email === currentUserEmail);
        if (user && user.status === 'approved') {
          // Redirect to dashboard
          window.location.href = 'user-dashboard.html';
        }
      }
    }
    
    // Set current user email (in a real app, this would be set during login/application)
    document.addEventListener('DOMContentLoaded', function() {
      // Get the most recent application
      const applications = JSON.parse(localStorage.getItem('referral_applications') || '[]');
      if (applications.length > 0) {
        const latestApp = applications[applications.length - 1];
        localStorage.setItem('current_user_email', latestApp.email);
      }
      
      // Start checking status
      setInterval(checkApplicationStatus, 5000);
    });
  </script>
</body>
</html>
