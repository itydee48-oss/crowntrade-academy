<script>
// Admin authentication check
if (localStorage.getItem('adminLoggedIn') !== 'true') {
    window.location.href = 'admin-login.html';
}

// Display current user info
document.addEventListener('DOMContentLoaded', function() {
    const adminName = localStorage.getItem('adminName');
    const adminRole = localStorage.getItem('adminRole');
    
    // Update welcome message
    const welcomeElement = document.querySelector('.premium-card h1');
    if (welcomeElement && adminName) {
        welcomeElement.innerHTML = `üëë ${adminName} - Admin Panel`;
    }
});
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Crown Trade Academy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Premium Header -->
    <header class="premium-header">
        <nav class="premium-nav">
            <a href="index.html" class="logo">Crown Trade Academy</a>
            <div style="display: flex; align-items: center; gap: 2rem;">
                <span style="color: var(--warm-beige);">Admin Dashboard</span>
                <ul class="nav-links">
                    <li><a href="admin-dashboard.html" style="color: var(--warm-beige);">Dashboard</a></li>
                    <li><a href="admin-payment-settings.html">Payment Settings</a></li>
                    <li><a href="#" onclick="logoutAdmin()">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Admin Hero -->
    <section class="premium-container" style="padding: 2rem 0;">
        <div class="premium-card" style="background: linear-gradient(135deg, var(--dark-brown), #4A3A32); color: white;">
            <div style="display: flex; justify-content: between; align-items: center; flex-wrap: wrap; gap: 2rem;">
                <div>
                    <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;">üëë Admin Command Center</h1>
                    <p style="color: var(--warm-beige); font-size: 1.1rem;">Manage your team, clients, and payments</p>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 0.9rem; color: var(--light-taupe);">Logged in as</div>
                    <div style="font-size: 1.2rem; font-weight: 700;" id="adminWelcome">Administrator</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Stats -->
    <section class="premium-container">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Total Clients -->
            <div class="premium-card" style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">üë•</div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark-brown);">Total Clients</h3>
                <p style="font-size: 2rem; color: var(--dark-brown); font-weight: 700;">47</p>
                <p style="color: var(--muted-rose);">Active Members</p>
            </div>

            <!-- Pending Withdrawals -->
            <div class="premium-card" style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">üí≥</div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark-brown);">Pending Withdrawals</h3>
                <p style="font-size: 2rem; color: var(--dark-brown); font-weight: 700;">3</p>
                <p style="color: var(--muted-rose);">Require Action</p>
            </div>

            <!-- Total Revenue -->
            <div class="premium-card" style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">üí∞</div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark-brown);">Total Revenue</h3>
                <p style="font-size: 2rem; color: var(--dark-brown); font-weight: 700;">KES 128,500</p>
                <p style="color: var(--muted-rose);">This Month</p>
            </div>

            <!-- Team Members -->
            <div class="premium-card" style="text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">üë®‚Äçüíº</div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark-brown);">Team Members</h3>
                <p style="font-size: 2rem; color: var(--dark-brown); font-weight: 700;">4</p>
                <p style="color: var(--muted-rose);">Active Staff</p>
            </div>
        </div>
    </section>

    <!-- Main Admin Content -->
    <section class="premium-container">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
            <!-- Left Column - Management -->
            <div>
                <!-- Quick Actions -->
                <div class="premium-card">
                    <h2 style="margin-bottom: 1.5rem; color: var(--dark-brown);">‚ö° Quick Actions</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <a href="#withdrawals" class="btn-premium" style="text-decoration: none; text-align: center; padding: 1.5rem;">
                            üí≥ Process Withdrawals
                        </a>
                        <a href="admin-payment-settings.html" class="btn-secondary" style="text-decoration: none; text-align: center; padding: 1.5rem;">
                            ‚öôÔ∏è Payment Settings
                        </a>
                        <a href="#clients" class="btn-premium" style="text-decoration: none; text-align: center; padding: 1.5rem;">
                            üë• Manage Clients
                        </a>
                        <a href="#team" class="btn-secondary" style="text-decoration: none; text-align: center; padding: 1.5rem;">
                            üë®‚Äçüíº Team Management
                        </a>
                    </div>
                </div>

                <!-- Pending Withdrawals -->
                <div class="premium-card" id="withdrawals">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 1.5rem;">
                        <h2 style="color: var(--dark-brown);">‚è≥ Pending Withdrawals</h2>
                        <span class="status-pending">3 Requests</span>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <!-- Withdrawal 1 -->
                        <div style="display: flex; justify-content: between; align-items: center; padding: 1.5rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">John Doe</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">KES 900 ‚Ä¢ MPESA ‚Ä¢ 254712345678</div>
                                <div style="color: var(--muted-rose); font-size: 0.8rem;">Submitted: Today, 10:30 AM</div>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="btn-premium" style="padding: 8px 16px;" onclick="approveWithdrawal(1)">
                                    ‚úÖ Approve
                                </button>
                                <button class="btn-secondary" style="padding: 8px 16px;" onclick="rejectWithdrawal(1)">
                                    ‚ùå Reject
                                </button>
                            </div>
                        </div>

                        <!-- Withdrawal 2 -->
                        <div style="display: flex; justify-content: between; align-items: center; padding: 1.5rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Sarah Smith</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">KES 300 ‚Ä¢ Bank Transfer ‚Ä¢ 0123456789</div>
                                <div style="color: var(--muted-rose); font-size: 0.8rem;">Submitted: Today, 09:15 AM</div>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="btn-premium" style="padding: 8px 16px;" onclick="approveWithdrawal(2)">
                                    ‚úÖ Approve
                                </button>
                                <button class="btn-secondary" style="padding: 8px 16px;" onclick="rejectWithdrawal(2)">
                                    ‚ùå Reject
                                </button>
                            </div>
                        </div>

                        <!-- Withdrawal 3 -->
                        <div style="display: flex; justify-content: between; align-items: center; padding: 1.5rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Mike Johnson</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">KES 600 ‚Ä¢ MPESA ‚Ä¢ 254723456789</div>
                                <div style="color: var(--muted-rose); font-size: 0.8rem;">Submitted: Yesterday, 16:45 PM</div>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="btn-premium" style="padding: 8px 16px;" onclick="approveWithdrawal(3)">
                                    ‚úÖ Approve
                                </button>
                                <button class="btn-secondary" style="padding: 8px 16px;" onclick="rejectWithdrawal(3)">
                                    ‚ùå Reject
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Client Activity -->
                <div class="premium-card" id="clients">
                    <h2 style="margin-bottom: 1.5rem; color: var(--dark-brown);">üìà Recent Client Activity</h2>
                    
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Lisa Brown</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Joined Mentorship Program ‚Ä¢ KES 50,000</div>
                            </div>
                            <span style="color: #27AE60; font-weight: 600;">New Client</span>
                        </div>

                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">David Wilson</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Referred 2 new members ‚Ä¢ KES 600 earned</div>
                            </div>
                            <span style="color: #3498DB; font-weight: 600;">Referral</span>
                        </div>

                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Emma Davis</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Completed 8th mentorship session</div>
                            </div>
                            <span style="color: #9B59B6; font-weight: 600;">Progress</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Team & System -->
            <div>
                <!-- Team Management -->
                <div class="premium-card" id="team">
                    <h2 style="margin-bottom: 1.5rem; color: var(--dark-brown);">üë®‚Äçüíº Team Management</h2>
                    
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Admin User</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Full System Access</div>
                            </div>
                            <span class="status-completed">Online</span>
                        </div>

                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Lead Mentor</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Client Management</div>
                            </div>
                            <span class="status-completed">Online</span>
                        </div>

                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Support Staff</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Client Support</div>
                            </div>
                            <span class="status-processing">Away</span>
                        </div>

                        <div style="display: flex; justify-content: between; align-items: center; padding: 1rem; background: var(--off-white); border-radius: 8px;">
                            <div>
                                <div style="font-weight: 600; color: var(--dark-brown);">Finance Manager</div>
                                <div style="color: var(--muted-rose); font-size: 0.9rem;">Payment Processing</div>
                            </div>
                            <span class="status-completed">Online</span>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn-premium" style="width: 100%;" onclick="addTeamMember()">
                            üë• Add Team Member
                        </button>
                    </div>
                </div>

                <!-- System Status -->
                <div class="premium-card">
                    <h3 style="margin-bottom: 1rem; color: var(--dark-brown);">üñ•Ô∏è System Status</h3>
                    
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <span style="color: var(--muted-rose);">Website Uptime</span>
                            <span class="status-completed">100%</span>
                        </div>
                        
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <span style="color: var(--muted-rose);">Payment System</span>
                            <span class="status-completed">Operational</span>
                        </div>
                        
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <span style="color: var(--muted-rose);">Database</span>
                            <span class="status-completed">Healthy</span>
                        </div>
                        
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <span style="color: var(--muted-rose);">Security</span>
                            <span class="status-completed">Protected</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Support -->
                <div class="premium-card">
                    <h3 style="margin-bottom: 1rem; color: var(--dark-brown);">üõ†Ô∏è System Tools</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <a href="admin-payment-settings.html" class="btn-secondary" style="text-decoration: none; text-align: center; padding: 0.8rem;">
                            üí∞ Update Payment Details
                        </a>
                        <button class="btn-premium" style="padding: 0.8rem;" onclick="generateReport()">
                            üìä Generate Report
                        </button>
                        <button class="btn-secondary" style="padding: 0.8rem;" onclick="backupSystem()">
                            üíæ Backup System
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Footer -->
    <footer class="premium-footer">
        <div class="footer-content">
            <div>
                <h3>Admin System</h3>
                <p>Team Management Portal</p>
                <p>Email: crowntradeacademy@gmail.com</p>
            </div>
            <div>
                <h3>Quick Access</h3>
                <p><a href="admin-payment-settings.html" style="color: var(--warm-beige); text-decoration: none;">Payment Settings</a></p>
                <p><a href="#withdrawals" style="color: var(--warm-beige); text-decoration: none;">Withdrawal Queue</a></p>
                <p><a href="#clients" style="color: var(--warm-beige); text-decoration: none;">Client Management</a></p>
            </div>
            <div>
                <h3>System</h3>
                <p>4 Team Members Online</p>
                <p>47 Active Clients</p>
                <p>All Systems Operational</p>
            </div>
        </div>
        <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--muted-rose);">
            <p>&copy; 2024 Crown Trade Academy. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Update admin welcome name
        document.addEventListener('DOMContentLoaded', function() {
            const adminName = localStorage.getItem('adminName');
            if (adminName) {
                document.getElementById('adminWelcome').textContent = adminName;
            }
        });

        // Withdrawal management functions
        function approveWithdrawal(id) {
            if (confirm(`Approve withdrawal request #${id}? This will process the payment.`)) {
                alert(`‚úÖ Withdrawal #${id} approved and processed!`);
                // In real system, this would update database and process payment
            }
        }

        function rejectWithdrawal(id) {
            const reason = prompt('Please enter reason for rejection:');
            if (reason) {
                alert(`‚ùå Withdrawal #${id} rejected. Reason: ${reason}`);
                // In real system, this would update database and notify client
            }
        }

        function addTeamMember() {
            alert('üë• Team member addition feature coming soon!');
        }

        function generateReport() {
            alert('üìä Report generation feature coming soon!');
        }

        function backupSystem() {
            alert('üíæ System backup initiated!');
        }

        function logoutAdmin() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminUser');
                localStorage.removeItem('adminRole');
                localStorage.removeItem('adminName');
                window.location.href = 'index.html';
            }
        }

        // Real-time updates could be added here later
        console.log('Admin dashboard loaded - Team management activated!');
    </script>
</body>
</html>
